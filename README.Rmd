---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# clptheory

<!-- badges: start -->
<!-- badges: end -->

The goal of `clptheory` (_classical price theory_) is to create a suite of functions to implement the classical theory of prices. The functions in this package computes the uniform rate of profit, the vector of price of production and the vector of labor values for the circulating capital model and the capital stock model. The functions also computes various regression- and non-regression-based measures of deviation between the vector of relative prices of production and the vector of relative labor values.

## Installation
You can install the package `clptheory` from CRAN with:
```{r}
# Uncomment the following line
# install.packages("clptheory")
```


You can install the development version of `clptheory` from [GitHub](https://github.com/) with:
```{r}
# Uncomment the following two lines
# install.packages("devtools")
# devtools::install_github("dbasu-umass/clptheory")
```


## Main Functions
This package provides the following functions.

1. `ppstdint1`: a function to estimate a basic circulating capital model with the Standard Interpretation (SI);

2. `ppnewint1`: a function to estimate a basic circulating capital model with the New Interpretation (NI);

3. `ppsraffa1`: a function to estimate a circulating capital model with the Sraffian approach;

4. `nonregdist`: a function that computes various non-regression-based measures of deviation between the vector of prices of production, the vector of market prices and the vector of direct prices (labor values);

5. `createdata`: a function to create the data objects (matrices, vectors and scalars) necessary to implement the SI and NI.

The package contains the following three datasets.

1.  `aussea`: the socio economic accounts for the Australian economy extracted from the 2016 release of the World Input Output Database; this data set contains industry-level variables (53 industries) for the USA for 15 years, 2000-2014; 

2. `ausiot`: input-output tables for the Australian economy extracted from the 2016 release of the World Input Output Database; this data set contains 53-industry input-output tables for the USA for 15 years, 2000-2014;

3.  `usasea`: the socio economic accounts for the USA extracted from the 2016 release of the World Input Output Database; this data set contains industry-level variables (53 industries) for the USA for 15 years, 2000-2014; 

4. `usaiot`: input-output tables for the USA extracted from the 2016 release of the World Input Output Database; this data set contains 53-industry input-output tables for the USA for 15 years, 2000-2014;

5.  `usarwb`: personal consumption expenditure on the output of the 53 industries of the input-output tables for the USA extracted from the 2016 release of the World Input Output Database; this data set contains data for 15 years, 2000-2014. (Note: This data set is not necessary for the analysis.)

## Example 1: Analysis for Australia
Let us conduct price of production analysis for Australia (AUS) and see how to use the functions in `clptheory` to

1. compute the uniform rate of profit and the vectors of labor values and prices of production for a basic circulating capital model using the Standard Interpretation and the New Interpretation; and

2. compute regression- and non-regression-based measures of deviation between the vector of relative prices of production and the vector of relative labor values.

Let us load the package.
```{r}
# Load library
library(clptheory)
```


### Data
Let us create the data objects.
```{r}
ausdata <- clptheory::createdata(
  country = "AUS", year = 2010, 
  datasea = aussea, dataio = ausiot
  )
```

### Standard Interpretation
Let us now estimate the circulating capital model with SI.
```{r}
si1 <- clptheory::ppstdint1(
  A = ausdata$Ahat,
  b = ausdata$b,
  Q = ausdata$Q,
  l_simple = ausdata$l_simple
)
```

### New Interpretation
Let us now estimate the circulating capital model with NI.
```{r}
ni1 <- clptheory::ppnewint1(
  A = ausdata$Ahat,
  w = ausdata$wavg,
  v = ausdata$vlp,
  Q = ausdata$Q,
  l_simple = ausdata$l_simple
)
```
Let us see the uniform profit rate.
```{r}
cbind(si1$urop,ni1$urop)
```

### Non-Regression-Based Measures of Deviation
Let us compute various non-regression-based measures of the deviation
between the vector of prices of production and the vector of market prices, between the vector of direct prices and market prices, and between the vector of prices of production and the direct prices  for the SI.

```{r}
nrsi1 <- clptheory::nonregdist(
  x = si1$pp,
  y = si1$dp,
  w = ausdata$wagevector_all,
  w_avg = ausdata$wavg,
  Q = ausdata$Q
)
```

Let us do the same computation for the NI.

```{r}
nrni1 <- clptheory::nonregdist(
  x=ni1$pp,
  y=ni1$dp,
  w=ausdata$wagevector_all,
  w_avg=ausdata$wavg,
  Q=ausdata$Q
  )
```

We can now compare the results for the analysis of the _circulating
capital model_ from the SI approach and the NI approach for the
non-regression-based measures of deviation between relative prices of
production and relative values.

```{r}
comp1 <- cbind(nrsi1,nrni1)
colnames(comp1) <- c("SI","NI")
rownames(comp1) <- c(
  "RMSE_PPMP", "RMSE_DPMP","RMSE_PPDP",
  "MAD_PPMP", "MAD_DPMP","MAD_PPDP",
  "MAWD_PPMP", "MAWD_DPMP","MAWD_PPDP",
  "Angle_PPMP", "Angle_DPMP","Angle_PPDP",
  "DDist_PPMP", "DDist_DPMP","DDist_PPDP"
)
(comp1)
```

In the results above, we see the magnitudes of six different measures of
the deviation between PP/MP, DP/MP, PP/DP: root mean squared error (RMSE),
meann absolute distance (MAD), mean absolute weighted distance (MAWD), angle between the two vectors (angle in degrees), and the d-distance computed using angle (distance).

As an example, we can see that the d-distance of the deviation between PP/MP, DP/MP, PP/DP for SI are 0.312, 0.275 and 0.043, respectively. This can be interpreted as showing that the deviation between PP/MP, DP/MP, PP/DP are 31.2 percent, 27.5 percent and 4.3 percent, respectively. The corresponding measures of deviation for NI are 0.206, 0.275 and 0.088, respectively. 

It is interesting to note that the measure of deviation for DP/MP are the same in both SI and NI. The reason for this is as follows: the DP vector is just a rescaled value of the labor value vector; hence it is the same in both SI and NI. The MP vector is just a vector of 1s. Hence, this vector is also same for both SI and NI.


## References

-   Basu, D. and Moraitis, T. (2023). Alternative Approaches to Labor
    Values and Prices of Production: Theory and Evidence. *Economics
    Department Working Paper Series*. 347. University of Massachusetts
    Amherst. Retrieved from
    <https://scholarworks.umass.edu/econ_workingpaper/347/>
